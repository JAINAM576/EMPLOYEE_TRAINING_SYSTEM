<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>



    <link href="http://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.2/jquery.min.js"
        integrity="sha512-tWHlutFnuG0C6nQRlpvrEhE4QpkG1nn2MOUMWmUeRePl4e3Aki0VB6W1v3oLjFtd0hVOtRQ9PHpSfN6u6/QXkQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>


    <script src="../../js/spipa-admin.js"></script>
    <link href="../../css/index.css" rel="stylesheet" type="text/css">
</head>

<body>

    <div class="row g-0">
        <section class="col-lg-3 col-md-3 col-sm-3" id="admin-options">
            <div class="ssip-logo"></div>
            <div id="options" class="row g-0">
                <div class="col-12">
                    <button type="button" class="btn menu-btn btn-outline-danger "
                        onClick="document.getElementById('see-req-admin').scrollIntoView();">Dept.admin</button>
                </div>
                <div class="col-12">
                    <button type="button" class="btn menu-btn btn-outline-danger"
                        onClick="document.getElementById('see-req-operator').scrollIntoView();">
                        Spipa Opt.
                    </button>
                </div>
                <div class="col-12">
                    <button type="button" class="btn menu-btn btn-outline-danger" data-bs-toggle="modal"
                        data-bs-target="#add-training" id="add_training">
                        Add Training
                    </button>
                </div>
                <div class="col-12">
                    <button type="button" class="btn menu-btn btn-outline-danger" data-bs-toggle="modal"
                        data-bs-target="#add-dept-name">
                        Add Department
                    </button>
                </div>
                <div class="col-12">
                    <button type="button" class="btn menu-btn btn-outline-danger" id="quiz">
                        Add TNA Quiz
                    </button>
                </div>
            </div>

        </section>
        <section class="col-lg-9 col-md-12 col-sm-12 offset-lg-3" id="admin-panel">
            <nav id="nav-laptop">
                <ul style="justify-self: center;align-self: center;">
                    <li>
                        <button style="background-color: var(--ssip-secondary);border-radius: 100px;" type="button"
                            class="btn" onclick="window.location='./login'">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M27.8426 25.7988C29.4583 23.8549 30.582 21.5505 31.1186 19.0805C31.6553 16.6105 31.5892 14.0476 30.9259 11.6085C30.2626 9.16946 29.0216 6.92605 27.3079 5.06805C25.5942 3.21005 23.4581 1.79214 21.0806 0.934247C18.703 0.0763552 16.1537 -0.196272 13.6485 0.139428C11.1432 0.475128 8.75567 1.40928 6.68781 2.86286C4.61994 4.31644 2.93259 6.24668 1.76849 8.49029C0.604392 10.7339 -0.00220792 13.2249 6.0386e-06 15.7525C0.000855609 19.427 1.29572 22.9838 3.65738 25.7988L3.63488 25.8179C3.71363 25.9124 3.80363 25.9934 3.88463 26.0868C3.98588 26.2027 4.09501 26.3118 4.19963 26.4243C4.51463 26.7663 4.83863 27.0948 5.17838 27.403C5.28188 27.4975 5.38876 27.5853 5.49338 27.6753C5.85338 27.9858 6.22351 28.2805 6.60713 28.555C6.65663 28.5888 6.70163 28.6327 6.75113 28.6675V28.654C9.386 30.5082 12.5292 31.5033 15.7511 31.5033C18.973 31.5033 22.1163 30.5082 24.7511 28.654V28.6675C24.8006 28.6327 24.8445 28.5888 24.8951 28.555C25.2776 28.2794 25.6489 27.9858 26.0089 27.6753C26.1135 27.5853 26.2204 27.4964 26.3239 27.403C26.6636 27.0937 26.9876 26.7663 27.3026 26.4243C27.4073 26.3118 27.5153 26.2027 27.6176 26.0868C27.6975 25.9934 27.7886 25.9124 27.8674 25.8168L27.8426 25.7988ZM15.75 6.75254C16.7513 6.75254 17.7301 7.04945 18.5626 7.60572C19.3951 8.162 20.044 8.95265 20.4271 9.8777C20.8103 10.8028 20.9106 11.8207 20.7152 12.8027C20.5199 13.7847 20.0377 14.6868 19.3297 15.3948C18.6217 16.1028 17.7197 16.5849 16.7377 16.7803C15.7556 16.9756 14.7377 16.8753 13.8127 16.4922C12.8876 16.109 12.097 15.4601 11.5407 14.6276C10.9844 13.7951 10.6875 12.8163 10.6875 11.815C10.6875 10.4724 11.2209 9.18471 12.1703 8.23531C13.1197 7.28591 14.4073 6.75254 15.75 6.75254ZM6.75788 25.7988C6.7774 24.3216 7.3777 22.9115 8.42891 21.8736C9.48012 20.8356 10.8977 20.2533 12.375 20.2525H19.125C20.6023 20.2533 22.0199 20.8356 23.0711 21.8736C24.1223 22.9115 24.7226 24.3216 24.7421 25.7988C22.2748 28.0222 19.0713 29.2526 15.75 29.2526C12.4287 29.2526 9.22518 28.0222 6.75788 25.7988Z"
                                    fill="white" />
                            </svg>
                            <svg style="margin-left: 5px;" width="12" height="7" viewBox="0 0 12 7" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M5.575 6.55C5.44167 6.55 5.31267 6.525 5.188 6.475C5.06267 6.425 4.95833 6.35833 4.875 6.275L0.275 1.675C0.0916663 1.49167 0 1.25833 0 0.974999C0 0.691666 0.0916663 0.458333 0.275 0.275C0.458333 0.0916663 0.691667 0 0.975 0C1.25833 0 1.49167 0.0916663 1.675 0.275L5.575 4.175L9.475 0.275C9.65833 0.0916663 9.89167 0 10.175 0C10.4583 0 10.6917 0.0916663 10.875 0.275C11.0583 0.458333 11.15 0.691666 11.15 0.974999C11.15 1.25833 11.0583 1.49167 10.875 1.675L6.275 6.275C6.175 6.375 6.06667 6.44567 5.95 6.487C5.83333 6.529 5.70833 6.55 5.575 6.55Z"
                                    fill="white" />
                            </svg>
                        </button>
                    </li>
                </ul>
            </nav>
            <nav id="nav-phone" class="navbar navbar-expand-md">
                <div class="container-fluid">
                    <button style="background-color: var(--ssip-secondary);border-radius: 100px;" type="button"
                        class="btn" onclick="window.location='/department/login'">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M27.8426 25.7988C29.4583 23.8549 30.582 21.5505 31.1186 19.0805C31.6553 16.6105 31.5892 14.0476 30.9259 11.6085C30.2626 9.16946 29.0216 6.92605 27.3079 5.06805C25.5942 3.21005 23.4581 1.79214 21.0806 0.934247C18.703 0.0763552 16.1537 -0.196272 13.6485 0.139428C11.1432 0.475128 8.75567 1.40928 6.68781 2.86286C4.61994 4.31644 2.93259 6.24668 1.76849 8.49029C0.604392 10.7339 -0.00220792 13.2249 6.0386e-06 15.7525C0.000855609 19.427 1.29572 22.9838 3.65738 25.7988L3.63488 25.8179C3.71363 25.9124 3.80363 25.9934 3.88463 26.0868C3.98588 26.2027 4.09501 26.3118 4.19963 26.4243C4.51463 26.7663 4.83863 27.0948 5.17838 27.403C5.28188 27.4975 5.38876 27.5853 5.49338 27.6753C5.85338 27.9858 6.22351 28.2805 6.60713 28.555C6.65663 28.5888 6.70163 28.6327 6.75113 28.6675V28.654C9.386 30.5082 12.5292 31.5033 15.7511 31.5033C18.973 31.5033 22.1163 30.5082 24.7511 28.654V28.6675C24.8006 28.6327 24.8445 28.5888 24.8951 28.555C25.2776 28.2794 25.6489 27.9858 26.0089 27.6753C26.1135 27.5853 26.2204 27.4964 26.3239 27.403C26.6636 27.0937 26.9876 26.7663 27.3026 26.4243C27.4073 26.3118 27.5153 26.2027 27.6176 26.0868C27.6975 25.9934 27.7886 25.9124 27.8674 25.8168L27.8426 25.7988ZM15.75 6.75254C16.7513 6.75254 17.7301 7.04945 18.5626 7.60572C19.3951 8.162 20.044 8.95265 20.4271 9.8777C20.8103 10.8028 20.9106 11.8207 20.7152 12.8027C20.5199 13.7847 20.0377 14.6868 19.3297 15.3948C18.6217 16.1028 17.7197 16.5849 16.7377 16.7803C15.7556 16.9756 14.7377 16.8753 13.8127 16.4922C12.8876 16.109 12.097 15.4601 11.5407 14.6276C10.9844 13.7951 10.6875 12.8163 10.6875 11.815C10.6875 10.4724 11.2209 9.18471 12.1703 8.23531C13.1197 7.28591 14.4073 6.75254 15.75 6.75254ZM6.75788 25.7988C6.7774 24.3216 7.3777 22.9115 8.42891 21.8736C9.48012 20.8356 10.8977 20.2533 12.375 20.2525H19.125C20.6023 20.2533 22.0199 20.8356 23.0711 21.8736C24.1223 22.9115 24.7226 24.3216 24.7421 25.7988C22.2748 28.0222 19.0713 29.2526 15.75 29.2526C12.4287 29.2526 9.22518 28.0222 6.75788 25.7988Z"
                                fill="white" />
                        </svg>
                        <svg style="margin-left: 5px;" width="12" height="7" viewBox="0 0 12 7" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M5.575 6.55C5.44167 6.55 5.31267 6.525 5.188 6.475C5.06267 6.425 4.95833 6.35833 4.875 6.275L0.275 1.675C0.0916663 1.49167 0 1.25833 0 0.974999C0 0.691666 0.0916663 0.458333 0.275 0.275C0.458333 0.0916663 0.691667 0 0.975 0C1.25833 0 1.49167 0.0916663 1.675 0.275L5.575 4.175L9.475 0.275C9.65833 0.0916663 9.89167 0 10.175 0C10.4583 0 10.6917 0.0916663 10.875 0.275C11.0583 0.458333 11.15 0.691666 11.15 0.974999C11.15 1.25833 11.0583 1.49167 10.875 1.675L6.275 6.275C6.175 6.375 6.06667 6.44567 5.95 6.487C5.83333 6.529 5.70833 6.55 5.575 6.55Z"
                                fill="white" />
                        </svg>
                    </button>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
                        <span class="navbar-toggler-icon"><svg fill="#FFFFFF" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 50 50" width="30px" height="30px">
                                <path
                                    d="M 3 9 A 1.0001 1.0001 0 1 0 3 11 L 47 11 A 1.0001 1.0001 0 1 0 47 9 L 3 9 z M 3 24 A 1.0001 1.0001 0 1 0 3 26 L 47 26 A 1.0001 1.0001 0 1 0 47 24 L 3 24 z M 3 39 A 1.0001 1.0001 0 1 0 3 41 L 47 41 A 1.0001 1.0001 0 1 0 47 39 L 3 39 z" />
                            </svg></span>
                    </button>
                    <div class="collapse navbar-collapse" id="mynavbar">
                        <ul class="navbar-nav me-auto">
                            <li class="nav-item">
                                <button type="button" class="btn btn-light "
                                    onClick="document.getElementById('see-req-admin').scrollIntoView();">Dept.admin</button>

                            </li>
                            <li class="nav-item">
                                <button type="button" class="btn btn-light"
                                    onClick="document.getElementById('see-req-operator').scrollIntoView();">
                                    Spipa Opt.
                                </button>
                            </li>
                            <li class="nav-item">
                                <button type="button" class="btn btn-light" data-bs-toggle="modal"
                                    data-bs-target="#add-training" id="add_training1">
                                    add training
                                </button>
                            </li>
                            <li class="nav-item">
                                <button type="button" class="btn btn-light" data-bs-toggle="modal"
                                    data-bs-target="#add-dept-name">
                                    add dept
                                </button>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/spipa/add-quiz">Add TNA Quiz</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>



            <p class="ssip-title">
                Request for Department Admin :
            </p>

            <div id="see-req-admin" style="padding-left: 30px;" class="col-12">
                <table id="dept-req-table" class="table table-striped mt-5">
                </table>
            </div>
            <p class="ssip-title">
                Request for Spipa Operator :
            </p>

            <div id="see-req-operator" style="padding-left: 30px;" class="col-12">
                <table id="opt-req-table" class="table table-striped mt-5">
                </table>
            </div>
        </section>
        <!-- The Modal -->
        <div class="modal" id="add-training">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Add training</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>

                    <!-- Modal body - REMOVE -->
                    <div class="modal-body">
                      
                            <form>
                                <div class="form-group">
                                    <label for="training">Training Name : </label>
                                    <input class="form-control" id="training" type="text" placeholder="Training Name"
                                        required>
                                </div>
                                <br>
                                <div class="form-group">
                                    <label for="training_subject">Training Subject Name : </label>
                                    <input class="form-control" id="training_subject" type="text"
                                        placeholder="Training Subject" required>
                                </div>
                                <br>
                                <div class="form-group">
                                    <label for="sel1" class="form-label">Training Cordinator Id: </label>
                                    <select class="form-select form-control" id="sel1" name="cordinator_name" required>
                                        <option>cordinator 1</option>
                                       
                                      </select>
                                </div>
                                <br>
                                <div class="form-group">
                                    <label for="training_cap" class="form-label">Training Capacity: </label>
                                    <input class="form-control" id="training_cap" type="number"
                                    placeholder="Value" required>
                                </div>
                                <br>

                                <div class="col-lg-6 col-md-12" style="padding-left: 0;">
                                    <label for="start_date" onchange="changed()">Start Date :</lebel>
                                        <div class='input-group date' style="margin-bottom:0 !important">
                                            <input type='date' class="form-control" id='start_date' required
                                                name="start_date" />
                                        </div>
                                </div>
                                <br>
                                <div class="col-lg-6 col-md-12" style="padding-left: 0;">
                                    <label for="end_date">End Date :</lebel>
                                        <div class='input-group date' style="margin-bottom:0 !important">
                                            <input type='date' class="form-control" id='end_date' required
                                                name="end_date" />
                                        </div>
                                </div>
                                <br>
                                <button type="button" class="btn btn-default btn-danger emp_login"
                                    id="btn-add-training">Add</button>
                            </form>
                    
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
        <!-- The Modal -->
        <div class="modal" id="add-dept-name">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Add Department</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>

                    <!-- Modal body - REMOVE -->
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="dept_name">Department Name : </label>
                                <input class="form-control" id="dept_name" type="text" placeholder="dept. Name"
                                    required>
                            </div>
                            <br>
                        </form>
                        <button type="button" class="btn btn-default btn-danger emp_login"
                            id="btn-add-dept">Add</button>

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>
<script>
  
    let quiz=  document.getElementById('quiz');
    quiz.addEventListener('click',()=>{
    
        $.get("/spipa/add-quiz",
        function (data, status) {
            console.log(data,"res")
            window.location.assign('/spipa/add-quiz')
        }).DONE;
        
    })
  
    let sel1=document.getElementById('sel1')
// // <option>dept 1</option>
// fetch('/employee/cordinators').then(async (res)=>{
// res.json().then((res1)=>{
// let j;
// res1.results1.forEach(element => {
// console.log(element.spipa_emp_id)
// j=j+`<option>${element.spipa_emp_id}</option>`
// });
// sel1.innerHTML=j;
// }
//         )})
let name={
    loc:spipaname
}

function getingcordinatorsid(){

    $.ajax({
        type: 'post',
        url: `/employee/cordinators`,
        data: JSON.stringify(name),
        contentType: "application/json; charset=utf-8",
        traditional: true,
        success: function (data) {
            console.log(data)
            let j;
            data.results1.forEach(element => {
console.log(element.spipa_emp_id)
j=j+`<option>${element.spipa_emp_id}</option>`
});

    sel1.innerHTML=j;



}
});

}
// let add_training=document.getElementById('add_training')

// add_training.addEventListener('click',()=>{
//      getingcordinatorsid()

// })



document.getElementById('add_training').addEventListener('click',getingcordinatorsid())

    </script>
</html>