<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>



    <link href="http://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.2/jquery.min.js"
        integrity="sha512-tWHlutFnuG0C6nQRlpvrEhE4QpkG1nn2MOUMWmUeRePl4e3Aki0VB6W1v3oLjFtd0hVOtRQ9PHpSfN6u6/QXkQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>


    <script src="../../js/addquiz.js"></script>
    <link href="../../css/addquiz.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div class="container mt-3">
        <form method="post" action="/quiz/add-quiz">
            <div class="row">
                <p class="quiz_title">Quiz Information:</p>
                <div class="mb-3 mt-3 col-12">
                    <label for="quiz_name">Quiz Name:</label>
                    <input type="text" class="form-control" id="quiz_name" placeholder="Quiz Name" name="quiz_name">
                </div>
                <div class="mb-3  col-6">
                    <label for="quiz_sub_name">Subject Name:</label>
                        <select class="form-select form-control" id="quiz_sub_name" name="quiz_sub_name">
                            <option selected value="-1" disabled>Quiz Subject Name</option>
        
                        </select>
                </div>
                <div class="mb-3 col-6">
                    <label for="quiz_training">Training Name:</label>
                        <select class="form-select form-control" id="quiz_training" name="quiz_training">
                            <option selected value="-1" >Quiz Training Name</option>
        
                        </select>
                </div>
                <div class="mb-3 col-6">
                    <label for="quiz_time">Quiz Time (hour:min):</label>
                    <input type="time" class="form-control" id="quiz_time" placeholder="Quiz Time" name="quiz_time">
                </div>
                <p class="quiz_title">Add Questions:</p>
                <div id="quiz_container">
                    
                </div>
                <div class="col-12">
                    <button type="button" class="btn btn-primary mt-2 mb-4" id="btn-addque">Add</button>
                    <button type="button" class="btn btn-danger mt-2 mb-4" id="btn-removeque">Remove</button>
                </div>
                <p class="quiz_title">Marks:</p>
                <div class="mb-3 col-3">
                    <label for="easy_marks">Easy Marks:</label>
                    <input type="number" class="form-control" id="easy_marks" placeholder="Easy"
                        name="easy_marks" value=2 >
                </div>
                <div class="mb-3 col-3">
                    <label for="meduim_marks">Medium Marks:</label>
                    <input type="number" class="form-control" id="medium_marks" placeholder="Medium"
                        name="medium_marks" value=5>
                </div>
                <div class="mb-3 col-3">
                    <label for="hard_marks">Hard Marks:</label>
                    <input type="number" class="form-control" id="hard_marks" placeholder="Hard"
                        name="hard_marks" value=10>
                </div>  
                <div class="mb-3 col-12">
                    <label for="total_question">Total Question:</label>
                    <input type="number" class="form-control" id="total_question" placeholder="Total Question"
                        name="total_question" value="0">
                </div> 
                <div class="mb-3 col-12">
                    <label for="total_marks">Total Marks:</label>
                    <input type="number" class="form-control" id="total_marks" placeholder="Total Marks"
                        name="total_marks" value="0">
                </div> 
                
            </div>
            
            <button type="submit" class="btn btn-primary mt-3 mb-3">Submit</button>

        </form>
    </div>
</body>
<script>
    let quiz_training=document.getElementById('quiz_training')
    let quiz_sub_name=document.getElementById('quiz_sub_name')
    $.get('/get_trainings_from_cordinator',(data,error)=>{
        let j=`<option selected value="-1" >Quiz Training Name</option>`
        console.log("done")
        data.forEach((element)=>{
            j+=`<option  value=${element.training_name} >${element.training_name}</option>`
        })
        quiz_training.innerHTML=j
        console.log(data)

    })
    quiz_training.addEventListener('change',(e)=>{
        if(e.target.value!=-1){

            $.post(`/spipa-training-req/${e.target.value}`, (data, status) => {
                let j=`<option selected value="-1" >Quiz Subject Name</option>`
        console.log("done")
        data.forEach((element)=>{
            j+=`<option  value=${element.emp_training_subject} >${element.emp_training_subject}</option>`
        })
        quiz_sub_name.innerHTML=j
            })
            quiz_sub_name.disabled=false
        }
        else{
            quiz_sub_name.value=-1
            quiz_sub_name.disabled=true
        }

    })
</script>

</html>